@page "/PersoonlijkeDetails"
@inject PersonalDetailsState PersonalDetailsState
@inject Microsoft.AspNetCore.Components.NavigationManager NavigationManager
@using FluentValidation

<PageTitle>Persoonlijke gegevens</PageTitle>

<EditForm Model="PersonalDetailsState.Customer" OnValidSubmit="Submit">
    <Blazored.FluentValidation.FluentValidationValidator />
    <MudPaper Width="100%" Class="pt-16" Height="100%" Elevation="0">
        <MudContainer MaxWidth="MaxWidth.ExtraExtraLarge">
            <MudGrid Spacing="@Spacing">
                <MudHidden Breakpoint="Breakpoint.MdAndUp" Invert="true">
                    <MudItem lg="12" md="12" sm="5" xs="5" />
                    <MudItem lg="2" md="2" sm="7" xs="7">
                        <TimeLineVertical step="2"></TimeLineVertical>
                    </MudItem>
                </MudHidden>
                <MudHidden Breakpoint="Breakpoint.MdAndUp">
                    <MudItem lg="2" md="2" sm="2" xs="2" />
                    <MudItem lg="8" md="8" sm="8" xs="8">
                        <TimeLineHorizontal step="2"></TimeLineHorizontal>
                    </MudItem>
                    <MudItem lg="2" md="2" sm="2" xs="2" />
                </MudHidden>
                
                <MudItem lg="10" md="10" sm="12" xs="12">
                    <MudGrid Spacing="@Spacing">
                        <MudItem lg="6" md="6" sm="12" xs="12">
                            <MudTextField @bind-Value="PersonalDetailsState.Customer.FirstName" For="@(() => PersonalDetailsState.Customer.FirstName)" Class=" ml-16 mr-16 mb-6 pt-2" Label="Voornaam" Variant="Variant.Outlined"></MudTextField>
                            <MudTextField @bind-Value="PersonalDetailsState.Customer.Email.Email" For="@(() => PersonalDetailsState.Customer.Email.Email)" Class="ml-16 mr-16 pt-2" Label="Email" Variant="Variant.Outlined"></MudTextField>
                        </MudItem>
                        <MudItem lg="6" md="6" sm="12" xs="12">
                            <MudTextField @bind-Value="PersonalDetailsState.Customer.LastName" For="@(() => PersonalDetailsState.Customer.LastName)"  Class="ml-16 mr-16 mb-6 pt-2" Label="Naam" Variant="Variant.Outlined"></MudTextField>
                            <MudTextField @bind-Value="PersonalDetailsState.Customer.PhoneNumber" For="@(() => PersonalDetailsState.Customer.PhoneNumber)" Class=" ml-16 mr-16 pt-2" Label="Telefoonnummer" Variant="Variant.Outlined"></MudTextField>
                        </MudItem>
                        <MudItem lg="6" md="6" sm="12" xs="12">
                            <MudTextField @bind-Value="PersonalDetailsState.Customer.BillingAddress.Street" For="@(() => PersonalDetailsState.Customer.BillingAddress.Street)" Class="ml-16 mr-16 mb-6 pt-2" Label="Straat" Variant="Variant.Outlined"></MudTextField>
                            <MudTextField @bind-Value="PersonalDetailsState.Customer.BillingAddress.City" For="@(() => PersonalDetailsState.Customer.BillingAddress.City)"  Class="ml-16 mr-16 mb-4 pt-2" Label="Gemeente" Variant="Variant.Outlined"></MudTextField>
                        </MudItem>
                        <MudItem lg="6" md="6" sm="12" xs="12">
                            <MudTextField @bind-Value="PersonalDetailsState.Customer.BillingAddress.HouseNumber" For="@(() => PersonalDetailsState.Customer.BillingAddress.HouseNumber)"  Class="ml-16 mr-16 mb-6 pt-2" Label="Huisnummer" Variant="Variant.Outlined"></MudTextField>
                            <MudTextField @bind-Value="PersonalDetailsState.Customer.BillingAddress.PostalCode" For="@(() => PersonalDetailsState.Customer.BillingAddress.PostalCode)"   Class="ml-16 mr-16 pt-2" Label="Postcode" Variant="Variant.Outlined"></MudTextField>
                        </MudItem>
                        <MudItem lg="6" md="6" sm="12" xs="12">
                            <MudTextField @bind-Value="PersonalDetailsState.Customer.VatNumber" For="@(() => PersonalDetailsState.Customer.VatNumber)"  Class="ml-16 mr-16 mb-6 pt-2" Label="Btw-nummer" Variant="Variant.Outlined"></MudTextField>

                        </MudItem>
                    </MudGrid>
                </MudItem>
            
            </MudGrid>
            <MudGrid>
                <MudItem lg="10" md="10" sm="5" xs="5" />
                <MudItem lg="2" md="2" sm="7" xs="7">
                    <MudButton Class="mb-2" Variant="Variant.Filled" Size="Size.Large" Color="Color.Primary" OnClick="@(async () => await Submit())">Volgende</MudButton>
                </MudItem>
            </MudGrid>

        </MudContainer>
    </MudPaper>
</EditForm>


@code {

    private int Spacing { get; set; } = 2;

    private async Task Submit()
    {
        NavigationManager.NavigateTo(Routes.ExtraMaterial);
    }
}

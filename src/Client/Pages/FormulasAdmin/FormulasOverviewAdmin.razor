@page "/FormulesAdmin"
@using shared.Formulas


<PageTitle>Formules Admin</PageTitle>
<MudContainer Fixed="true" Class="mt-15">
    
    <MudTable Items="Formulas" Hover="true" Breakpoint="Breakpoint.Sm">
        <HeaderContent>
            <MudTh Style=@styleTh>Titel</MudTh>
            <MudTh Style=@styleTh>Kenmerken</MudTh>
            <MudTh Style=@styleTh>Prijs/Dag</MudTh>
            <MudTh Style=@styleTh>Extra/dag</MudTh>
            <MudTh Style="color: white"> Wijzigen </MudTh>
        </HeaderContent>
        <RowTemplate>
            <MudTd DataLabel="Titel" Style=@styleTd>@context.Title</MudTd>
            <MudTd DataLabel="Kenmerken" Style=@styleTd>@string.Join(", ", @context.Attributes)</MudTd>
            <MudTd DataLabel="Prijs/Dag" Style=@styleTd>@string.Join(" / ", @context.BasePrice )</MudTd>
            <MudTd DataLabel="Extra/dag" Style=@styleTd >@Math.Round(@context.PricePerDayExtra)</MudTd>
            <MudTd DataLabel="Wijzigen" Style=@styleTd><MudIconButton Size="@Size.Small" Icon="@Icons.Material.Outlined.Edit" /></MudTd>
            
        </RowTemplate>
    </MudTable>
</MudContainer>



@code {

    [Inject] public IFormulaService FormulaService { get; set; } = default!;
    

    private String styleTd = "text-align: center";
    private String styleTh = "font-weight: bold;text-align: center";
    
    private IEnumerable<FormulaDto.Index>? Formulas;

    private String _attributes;
    
    protected override async Task OnInitializedAsync()
    {
        FormulaResult.Index response = await FormulaService.GetIndexAsync();

        Formulas = response.Formulas;

       
    }

    

}